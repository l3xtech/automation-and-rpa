### Somat√≥ria dividida por core 1 2 e 3

timeseries { 
  sum(KafkaRequest), 
  value.total = sum(KafkaRequest, scalar: true)
}, filter: matchesPhrase(service.instance.id, "core0")
| sort value.total desc

  sucess


timeseries {
  sum(KafkaRequest),
  by: {service.instance.id}
}, filter: (
  matchesPhrase(service.instance.id, "core0") and 
  (
    matchesPhrase(service.instance.id, "huge") or 
    matchesPhrase(service.instance.id, "medium") or 
    matchesPhrase(service.instance.id, "small")
  )
)
| fieldsAdd size = case(
  contains(service.instance.id, "huge"), "Huge",
  contains(service.instance.id, "medium"), "Medium",
  contains(service.instance.id, "small"), "Small",
  "Unknown"
)
| summarize {
  sum(KafkaRequest),
  by: {size}
}

error

timeseries {
  sum(KafkaRequest),
  value.total = sum(KafkaRequest, scalar: true)
}, filter: matchesPhrase(service.instance.id, "core0-small") or matchesPhrase(service.instance.id, "core0-medium") or matchesPhrase(service.instance.id, "core0-huge")
| sort value.total desc
